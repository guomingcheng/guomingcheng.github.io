(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{439:function(t,a,s){"use strict";s.r(a);var r=s(46),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"私人节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#私人节点"}},[t._v("#")]),t._v(" 私人节点")]),t._v(" "),s("p",[t._v("我们搭建 graph 私人节点，使用 dokcer 容器来拉下 graph 镜像，但是 grapht 节点的启动需要 ipfs 与 postgreSOL 数据库")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://docs.hecochain.com/#/dev/graphnode",target:"_blank",rel:"noopener noreferrer"}},[t._v("火币文档参考连接"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://hub.docker.com/r/graphprotocol/graph-node",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker 容器 graph 镜像 pull 链接"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://segmentfault.com/a/1190000040292899?utm_source=tag-newest",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文档"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://blog.csdn.net/xiaonaofu116/article/details/121778631",target:"_blank",rel:"noopener noreferrer"}},[t._v("postgresol 数据库开发访问参考链接"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"groph-启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#groph-启动"}},[t._v("#")]),t._v(" groph 启动")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Groph 节点启动命令"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\ndocker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("it "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_host"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("internal\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5432")]),t._v("     \n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgres \n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_pass"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxxxxxxxxx\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("graphnode    \n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e ipfs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5001")]),t._v(" \n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e ethereum"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mainnet"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8545")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" graphprotocol"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("graph"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("e519812     \n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("it "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_host"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("internal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5432")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgres "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_pass"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gmC24354"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e postgres_db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("graphnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e ipfs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5001")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e ethereum"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mainnet"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8545")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" graphprotocol"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("graph"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("e519812 \n")])])]),s("h4",{attrs:{id:"启动异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动异常"}},[t._v("#")]),t._v("   启动异常:")]),t._v(" "),s("h4",{attrs:{id:"error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error"}},[t._v("#")]),t._v(" "),s("span",{staticClass:"red"},[t._v("     ERROR :")])]),t._v(" "),s("div",{staticClass:"language-angular2 extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Oct 20 16:05:07.487 ERRO the net version for chain mainnet has changed from 1664122476459 to 5777 since the last time we ran, component: BlockStore\nOct 20 16:05:07.489 INFO Creating LoadManager in disabled mode, component: LoadManager\nOct 20 16:05:07.490 INFO Starting block ingestors with 1 chains [mainnet]\nOct 20 16:05:07.490 ERRO Not starting block ingestor (chain is defective), network_name: mainnet\n")])])]),s("h4",{attrs:{id:"method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#method"}},[t._v("#")]),t._v(" "),s("span",{staticClass:"span-lu"},[t._v("     METHOD:")])]),t._v(" "),s("div",{staticClass:"language-angular2 extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("当出现这个问题，是因为 ganache 节点的数据是内存操作的，每次关机数据都会丢失。当 graph 启动时检查链接的 RPC\n与上个版本不一致，就会爆出区块错误。只需要 graph 重新链接一个 postgresql 一个新的数据库即可\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);