<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件通信的意义 | 文档</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/index.css">
    <script src="/js/index.js"></script>
    <meta name="description" content="个人文档">
    
    <link rel="preload" href="/assets/css/0.styles.8cd2006c.css" as="style"><link rel="preload" href="/assets/js/app.ce1393de.js" as="script"><link rel="preload" href="/assets/js/2.ee68cb5d.js" as="script"><link rel="preload" href="/assets/js/34.b38625c8.js" as="script"><link rel="prefetch" href="/assets/js/10.fae9557b.js"><link rel="prefetch" href="/assets/js/11.ec03d5d9.js"><link rel="prefetch" href="/assets/js/12.aa5ec6e6.js"><link rel="prefetch" href="/assets/js/13.fa27dbe3.js"><link rel="prefetch" href="/assets/js/14.27428945.js"><link rel="prefetch" href="/assets/js/15.e19dc613.js"><link rel="prefetch" href="/assets/js/16.ac5d0041.js"><link rel="prefetch" href="/assets/js/17.b015baa0.js"><link rel="prefetch" href="/assets/js/18.d790bc9c.js"><link rel="prefetch" href="/assets/js/19.7f450609.js"><link rel="prefetch" href="/assets/js/20.504a3fd4.js"><link rel="prefetch" href="/assets/js/21.fcc0c1f7.js"><link rel="prefetch" href="/assets/js/22.1e27d5c1.js"><link rel="prefetch" href="/assets/js/23.e7de804c.js"><link rel="prefetch" href="/assets/js/24.89d96b41.js"><link rel="prefetch" href="/assets/js/25.47d860f4.js"><link rel="prefetch" href="/assets/js/26.03bbdba6.js"><link rel="prefetch" href="/assets/js/27.adba25d3.js"><link rel="prefetch" href="/assets/js/28.51f6ec86.js"><link rel="prefetch" href="/assets/js/29.3d75e6eb.js"><link rel="prefetch" href="/assets/js/3.af3b0f40.js"><link rel="prefetch" href="/assets/js/30.3ea92647.js"><link rel="prefetch" href="/assets/js/31.50e89190.js"><link rel="prefetch" href="/assets/js/32.2330f5a5.js"><link rel="prefetch" href="/assets/js/33.3db8ae98.js"><link rel="prefetch" href="/assets/js/35.49492a46.js"><link rel="prefetch" href="/assets/js/36.5a949c11.js"><link rel="prefetch" href="/assets/js/37.e1595cca.js"><link rel="prefetch" href="/assets/js/38.5e66f157.js"><link rel="prefetch" href="/assets/js/39.e118d131.js"><link rel="prefetch" href="/assets/js/4.dcedff1a.js"><link rel="prefetch" href="/assets/js/40.9b43fbc7.js"><link rel="prefetch" href="/assets/js/41.d9116c83.js"><link rel="prefetch" href="/assets/js/42.95c96c90.js"><link rel="prefetch" href="/assets/js/43.a92421aa.js"><link rel="prefetch" href="/assets/js/44.e19be0d2.js"><link rel="prefetch" href="/assets/js/45.def7c4a5.js"><link rel="prefetch" href="/assets/js/46.b4d92a6e.js"><link rel="prefetch" href="/assets/js/47.de8d2dc3.js"><link rel="prefetch" href="/assets/js/48.21f95edd.js"><link rel="prefetch" href="/assets/js/49.26d21bfa.js"><link rel="prefetch" href="/assets/js/5.1bf7576d.js"><link rel="prefetch" href="/assets/js/50.1ea86b8f.js"><link rel="prefetch" href="/assets/js/51.034e7576.js"><link rel="prefetch" href="/assets/js/52.9afafe11.js"><link rel="prefetch" href="/assets/js/53.688c4d83.js"><link rel="prefetch" href="/assets/js/54.13bfb729.js"><link rel="prefetch" href="/assets/js/55.e066dc58.js"><link rel="prefetch" href="/assets/js/56.c036e408.js"><link rel="prefetch" href="/assets/js/57.007d50cf.js"><link rel="prefetch" href="/assets/js/58.3f670fa2.js"><link rel="prefetch" href="/assets/js/59.f41e8ae6.js"><link rel="prefetch" href="/assets/js/6.8cf2a95e.js"><link rel="prefetch" href="/assets/js/60.f0fda430.js"><link rel="prefetch" href="/assets/js/61.ae4987fd.js"><link rel="prefetch" href="/assets/js/62.3c3e0b82.js"><link rel="prefetch" href="/assets/js/63.87900c10.js"><link rel="prefetch" href="/assets/js/64.9ffbb746.js"><link rel="prefetch" href="/assets/js/65.52ffe053.js"><link rel="prefetch" href="/assets/js/66.0b20125c.js"><link rel="prefetch" href="/assets/js/67.cd8a1668.js"><link rel="prefetch" href="/assets/js/68.97020436.js"><link rel="prefetch" href="/assets/js/69.533a79a4.js"><link rel="prefetch" href="/assets/js/7.299203e9.js"><link rel="prefetch" href="/assets/js/70.29933dd9.js"><link rel="prefetch" href="/assets/js/71.f88421fc.js"><link rel="prefetch" href="/assets/js/72.95de2bad.js"><link rel="prefetch" href="/assets/js/73.4a4257cc.js"><link rel="prefetch" href="/assets/js/74.659aab88.js"><link rel="prefetch" href="/assets/js/75.cadd4a65.js"><link rel="prefetch" href="/assets/js/76.254b9f42.js"><link rel="prefetch" href="/assets/js/77.e5b5a87b.js"><link rel="prefetch" href="/assets/js/78.b1b2dd8d.js"><link rel="prefetch" href="/assets/js/79.cbbbe000.js"><link rel="prefetch" href="/assets/js/8.c093787a.js"><link rel="prefetch" href="/assets/js/80.2b85c169.js"><link rel="prefetch" href="/assets/js/81.c6f26762.js"><link rel="prefetch" href="/assets/js/9.010ac11f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8cd2006c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">文档</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/区块链.html" class="nav-link">
  区块链
</a></div><div class="nav-item"><a href="/英语.html" class="nav-link">
  英语
</a></div><div class="nav-item"><a href="/前端.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/疑问解述篇.html" class="nav-link">
  疑问解述篇
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/区块链.html" class="nav-link">
  区块链
</a></div><div class="nav-item"><a href="/英语.html" class="nav-link">
  英语
</a></div><div class="nav-item"><a href="/前端.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/疑问解述篇.html" class="nav-link">
  疑问解述篇
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>react</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/前端/react/react.html" class="sidebar-link">渲染章节</a></li><li><a href="/前端/react/react-01.html" class="sidebar-link">组件章节</a></li><li><a href="/前端/react/react-02.html" class="active sidebar-link">组件通信章节</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#组件通信的意义" class="sidebar-link">组件通信的意义</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#父子通信" class="sidebar-link">父子通信</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#props-说明" class="sidebar-link">props 说明</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#子传父" class="sidebar-link">子传父</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#兄弟组件通信" class="sidebar-link">兄弟组件通信</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#跨组件传递" class="sidebar-link">跨组件传递</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#children-属性" class="sidebar-link">children 属性</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#props-校验" class="sidebar-link">props 校验</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#声明周期" class="sidebar-link">声明周期</a></li><li class="sidebar-sub-header"><a href="/前端/react/react-02.html#ant-design" class="sidebar-link">ant.design</a></li></ul></li><li><a href="/前端/react/react-hooks.html" class="sidebar-link">hooks 章节</a></li><li><a href="/前端/react/react-redux.html" class="sidebar-link">redux 章节</a></li><li><a href="/前端/react/react-toolkit.html" class="sidebar-link">toolkit 章节</a></li><li><a href="/前端/react/react-router.html" class="sidebar-link">router 章节</a></li><li><a href="/前端/react/react-config.html" class="sidebar-link">package</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="组件通信的意义"><a href="#组件通信的意义" class="header-anchor">#</a> 组件通信的意义</h2> <h6 id="组件是一个独立且封闭的单元-默认情况下组件是只能使用自己的状态数据-而在开发过程中-完整的功能被拆分为多个组件-这这个过程中不可避免的互相传递数据。所以为了能够让组件互相传递数据-就要使用组件通信"><a href="#组件是一个独立且封闭的单元-默认情况下组件是只能使用自己的状态数据-而在开发过程中-完整的功能被拆分为多个组件-这这个过程中不可避免的互相传递数据。所以为了能够让组件互相传递数据-就要使用组件通信" class="header-anchor">#</a> 组件是一个独立且封闭的单元，默认情况下组件是只能使用自己的状态数据，而在开发过程中，完整的功能被拆分为多个组件，这这个过程中不可避免的互相传递数据。所以为了能够让组件互相传递数据，就要使用组件通信</h6> <h6 id="_1、父子关系-这个最常见的通信结构-也是最重要的"><a href="#_1、父子关系-这个最常见的通信结构-也是最重要的" class="header-anchor">#</a> 1、父子关系 &lt;&gt; 这个最常见的通信结构，也是最重要的</h6> <h6 id="_2、兄弟关系-自定义事件模式产生技术方法-eventbs-通过共同的父组件来实现之间的互相通信"><a href="#_2、兄弟关系-自定义事件模式产生技术方法-eventbs-通过共同的父组件来实现之间的互相通信" class="header-anchor">#</a> 2、兄弟关系 &lt;&gt; 自定义事件模式产生技术方法 eventBs / 通过共同的父组件来实现之间的互相通信</h6> <h6 id="_3、其他关系-mobx、redux-基于-hook-的解决方案"><a href="#_3、其他关系-mobx、redux-基于-hook-的解决方案" class="header-anchor">#</a> 3、其他关系 &lt;&gt; mobx、redux 基于 hook 的解决方案</h6> <h2 id="父子通信"><a href="#父子通信" class="header-anchor">#</a> 父子通信</h2> <h6 id="父组件创建状态数据-绑定子组件属性-子组件接收数据"><a href="#父组件创建状态数据-绑定子组件属性-子组件接收数据" class="header-anchor">#</a> 父组件创建状态数据  ==&gt;  绑定子组件属性   ==&gt;  子组件接收数据</h6> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 创建函数方式的子组件</span>
<span class="token keyword">function</span> <span class="token function">SonF</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// 在函数子组件中，props 对象是传递进来，我们可以通过 props 对象获取父组件传递的属性</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      你好，我是函数组件 <span class="token punctuation">{</span>props<span class="token punctuation">.</span>msg<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token comment">// 创建类方式的子组件</span>
<span class="token keyword">class</span> <span class="token class-name">SonC</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token comment">// 如果是类的子组件，可以通过 this.props 获取传递的属性，this.props 是一个对象，他包含了父组件传递的值</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        你好，我是类组件 <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>msg<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">&quot;guomingcheng&quot;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>

      <span class="token comment">// App 就相等是一个父组件，在 App 嵌套内的组件，就是子组件</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span> <span class="token comment">/* 在子组件上绑定需要通信的属性，这样子组件就可以通过 props 对象来获取传递的属性  */</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span> <span class="token comment">/* 属性名称是可以自定义的，下面的 msg 就是自定义  */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>SonF msg<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SonC msg<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>

</code></pre></div><h2 id="props-说明"><a href="#props-说明" class="header-anchor">#</a> props 说明</h2> <h6 id="我们要注意的是-在子组件中-props-对象是一个只读的对象-他的数据是单向传输-他在父组件中是可以传递任何属性-比如-数字、字符串、布尔值、数组、对象、函数、jsx-给子组件的"><a href="#我们要注意的是-在子组件中-props-对象是一个只读的对象-他的数据是单向传输-他在父组件中是可以传递任何属性-比如-数字、字符串、布尔值、数组、对象、函数、jsx-给子组件的" class="header-anchor">#</a> 我们要注意的是，在子组件中 props 对象是一个只读的对象，他的数据是单向传输，他在父组件中是可以传递任何属性，比如: 数字、字符串、布尔值、数组、对象、函数、jsx 给子组件的</h6> <h6 id="通过在父组件中改变状态的属性值时候-那么传递给子组件同样更新"><a href="#通过在父组件中改变状态的属性值时候-那么传递给子组件同样更新" class="header-anchor">#</a> 通过在父组件中改变状态的属性值时候，那么传递给子组件同样更新</h6> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>

<span class="token comment">// 创建函数方式的子组件</span>
<span class="token keyword">function</span> <span class="token function">SonF</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token comment">// 原来这样的写法是解构赋值</span>
  <span class="token comment">// 这样的意思就是，有点类似于，张开运算符在赋值左边的变量，这是根据变量一一解构对应的 props 对象    </span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>list<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> getMes<span class="token punctuation">}</span> <span class="token operator">=</span> props  

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// 在函数子组件中，props 对象是传递进来，我们可以通过 props 对象获取父组件传递的属性</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      你好，我是函数组件 <span class="token punctuation">{</span>props<span class="token punctuation">.</span>msg<span class="token punctuation">}</span>
      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>p key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>obj<span class="token punctuation">}</span>

      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>getMes<span class="token punctuation">}</span><span class="token operator">&gt;</span>回调<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">&quot;guomingcheng&quot;</span><span class="token punctuation">,</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    obj<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;世界你好&quot;</span><span class="token punctuation">,</span> vaule<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>

  <span class="token function-variable function">getMes</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;打印父组件&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">upName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      message<span class="token operator">:</span> <span class="token string">&quot;eth&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>

      <span class="token comment">// App 就相等是一个父组件，在 App 嵌套内的组件，就是子组件</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span> <span class="token comment">/* 在子组件上绑定需要通信的属性，这样子组件就可以通过 props 对象来获取传递的属性  */</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span> <span class="token comment">/* 属性名称是可以自定义的，下面的 msg 就是自定义  */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>SonF msg<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">}</span>
          list<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">}</span>
          obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
          getMes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>getMes<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>upName<span class="token punctuation">}</span><span class="token operator">&gt;</span>修改名称<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App

</code></pre></div><h2 id="子传父"><a href="#子传父" class="header-anchor">#</a> 子传父</h2> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>


<span class="token keyword">class</span> <span class="token class-name">SonC</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    meg<span class="token operator">:</span> <span class="token string">&quot;guomingcheng&quot;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        ok<span class="token punctuation">{</span><span class="token comment">/* 这里要注意一点是, 函数的绑定是不能有实参的，如果需要向函数传递实参的话
              ， 就要用箭头 () =&gt; {} 函数来包裹，这样通过在箭头函数内部执行，调用处理函数，就能传递参数
              , 这个就是要注意的 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">getSonMeg</span><span class="token punctuation">(</span><span class="token string">&quot;dsa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>子传父<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">&quot;guomingcheng&quot;</span>
  <span class="token punctuation">}</span>

   <span class="token comment">// 回调函数，这个函数，是子传父的关键步骤 </span>
  <span class="token function-variable function">getSonMeg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">meg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// 子组件的状态数据，</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token comment">// App 就相等是一个父组件，在 App 嵌套内的组件，就是子组件</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SonC getSonMeg<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>getSonMeg<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App

</code></pre></div><h2 id="兄弟组件通信"><a href="#兄弟组件通信" class="header-anchor">#</a> 兄弟组件通信</h2> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>


<span class="token comment">// 目标：B 组件中的数据传递给 A 组件</span>
<span class="token comment">// 技术方案：</span>
<span class="token comment">// 1、先把 B 中的数据通过子传父的发送，先传递给 App 父组件</span>
<span class="token comment">// 2、再把 App 接收的 B 数据传递, 再通过父传子方式传递给 A 组件</span>


<span class="token keyword">function</span> <span class="token function">SonA</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>SonA
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>ameg<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SonB</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> bMeg <span class="token operator">=</span> <span class="token string">&quot;这里是来自 B 组件的数据&quot;</span>

  <span class="token keyword">return</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>SonB
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span><span class="token function">getMeg</span><span class="token punctuation">(</span>bMeg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token constant">B</span> 组件中的数据传递给<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    ameg<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//声明一个传给 B 组件方法</span>
  <span class="token function-variable function">getMeg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">meg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>

    <span class="token comment">// 把 B 组件传递的数据，绑定在 app 组件上的 ameg 属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      ameg<span class="token operator">:</span> meg
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token comment">// App 就相等是一个父组件，在 App 嵌套内的组件，就是子组件</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* ameg 数据传递给 A 组件，这个 ameg 属性就是 B 组件传递的值 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>SonA ameg<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>ameg<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SonB getMeg<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>getMeg<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App

</code></pre></div><h2 id="跨组件传递"><a href="#跨组件传递" class="header-anchor">#</a> 跨组件传递</h2> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> createContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>


<span class="token comment">// 目标：跨组件通信，也可以称为爷传孙</span>
<span class="token comment">// 技术方案：</span>
<span class="token comment">// 1、都入 createContext() 方法，这个方法返回一个对象，这个对象有俩个属性 Provider 提供者 Consumer 消费者</span>
<span class="token comment">// 2、在 App 组件也是根组件，使用 Provider 组件包裹起来，通过 value 属性绑定要传递的数据，</span>

<span class="token comment">// 把对象这俩个属性解构出来</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Provider<span class="token punctuation">,</span> Consumer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">ComA</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
       ComA
      <span class="token operator">&lt;</span>ComB <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">ComB</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      ComB
      <span class="token punctuation">{</span><span class="token comment">/* &lt;Consumer&gt; 组件获取根组件传递的数据，可以通过一个表达式获取数据*/</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Consumer<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 类型是一个函数， value 是传递的过来的值，*/</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Consumer<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">&quot;this is message&quot;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>

      <span class="token comment">// 这样 Provider 包裹起来, value 属性绑定要传递的只，那个孙组件要使用根组件传递这个数据</span>
      <span class="token comment">// 就要用 Consumer 来接收</span>
      <span class="token operator">&lt;</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>ComA <span class="token operator">&gt;</span>das<span class="token operator">&lt;</span><span class="token operator">/</span>ComA<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>

    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App

</code></pre></div><h2 id="children-属性"><a href="#children-属性" class="header-anchor">#</a> children 属性</h2> <h6 id="props-对象默认就有一个-chilfren-属性-且无需绑定。"><a href="#props-对象默认就有一个-chilfren-属性-且无需绑定。" class="header-anchor">#</a> props 对象默认就有一个 chilfren 属性，且无需绑定。</h6> <h6 id="children-属性是获取组件包裹的内容-可以获取的类型有普通标签、函数、jsx-、-组件-四种类型属性-在包裹的内容是不会喧染出来的-会把内容传递给当前组件的-props-children-属性-渲染与否都是取决于当前组件的处理方式-就算包裹的是一个组件-如果当前组件不在内部调用显示的话-包裹的组件也是不会显示的"><a href="#children-属性是获取组件包裹的内容-可以获取的类型有普通标签、函数、jsx-、-组件-四种类型属性-在包裹的内容是不会喧染出来的-会把内容传递给当前组件的-props-children-属性-渲染与否都是取决于当前组件的处理方式-就算包裹的是一个组件-如果当前组件不在内部调用显示的话-包裹的组件也是不会显示的" class="header-anchor">#</a> children 属性是获取组件包裹的内容，可以获取的类型有普通标签、函数、jsx 、 组件 四种类型属性，在包裹的内容是不会喧染出来的，会把内容传递给当前组件的 props.children 属性，渲染与否都是取决于当前组件的处理方式，就算包裹的是一个组件，如果当前组件不在内部调用显示的话，包裹的组件也是不会显示的</h6> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>



<span class="token keyword">function</span> <span class="token function">ComB</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// props.children();  ComB 组件包裹的是一个函数，那么 children 就是一个函数</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* props.children = 'is name'; ComB 组件包裹的是一个文本，那么 chIldren 值就是文本*/</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span><span class="token comment">/* props.children = ' &lt;div&gt;is name&lt;/div&gt;';  ComB 组件包裹的是一个普通标签，那么 children 值就是一个普通的标签*/</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>

      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 这样使用组件包裹起来，内部的数据就可以传递给子组件的 props.children 属性 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>ComB<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* is name*/</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token comment">/* &lt;div&gt;is name&lt;/div&gt; */</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token comment">/* { () =&gt; console.log(&quot;传递&quot;)} */</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">'is name'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>

        <span class="token operator">&lt;</span><span class="token operator">/</span>ComB<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App

</code></pre></div><h2 id="props-校验"><a href="#props-校验" class="header-anchor">#</a> props 校验</h2> <h6 id="使用-props-交校验-就是预防传递进来的类型不正确-所以要类型校验下-以我的了解-如果使用-ts-就应该不需要这个步骤-但是还是要记录一下"><a href="#使用-props-交校验-就是预防传递进来的类型不正确-所以要类型校验下-以我的了解-如果使用-ts-就应该不需要这个步骤-但是还是要记录一下" class="header-anchor">#</a> 使用 props 交校验，就是预防传递进来的类型不正确，所以要类型校验下，以我的了解，如果使用 ts 就应该不需要这个步骤，但是还是要记录一下，</h6> <h6 id="props-校验-需要按照一个包-yarn-add-prop-types"><a href="#props-校验-需要按照一个包-yarn-add-prop-types" class="header-anchor">#</a> props 校验，需要按照一个包:  yarn add prop-types</h6> <div class="language-js extra-class"><pre class="language-js"><code>

<span class="token comment">// 类组件</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>
<span class="token comment">// 里面内置了各种类型校验规则</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">&quot;prop-types&quot;</span>

<span class="token comment">// 函数组件</span>
<span class="token keyword">function</span> <span class="token function">ComB</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>list<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 类组件</span>
<span class="token keyword">class</span> <span class="token class-name">ComA</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token comment">// 设置 props.value 属性的默认值，如果父组件不传递 value 属性的值，那么 value 默认值就是 100</span>
  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token number">100</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这里就相等为 ComB 函数定义了拦截器，先交易通信传递的值是否符合类型</span>
<span class="token comment">// propTypes 属性，用于校验组件通信传递过来的类型，值是一个对象，包裹了 props 对象所以属性，都可以进行校验</span>
ComB<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 比如，通信传递过来的 list 属性，必须是 string 类型，不然就会报错</span>
  list<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number
<span class="token punctuation">}</span>
<span class="token comment">// 默认值，如果没有传递 list 属性的值，就使用这个默认值</span>
ComB<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  list<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这俩中组件使用 PropTypes 类型校验都一样</span>
<span class="token comment">// 支持校验： array  bool  func  number  string  object</span>
<span class="token comment">// 支撑校验： element React jsx 类型</span>
<span class="token comment">// 必填项： value: PropTypes.number.isRequired 表示这个 value 必须要传递的</span>
ComA<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number
<span class="token punctuation">}</span>

<span class="token comment">// 父组件创建</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ComB <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ComA <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App

</code></pre></div><p>E:\Git Files\guomingcheng\docs.vuepress\public\img\前端\react</p> <h2 id="声明周期"><a href="#声明周期" class="header-anchor">#</a> 声明周期</h2> <h6 id="组件的生命周期-是指组件从创建到挂载到页面中运行起来-在到组件不用时卸载的过程"><a href="#组件的生命周期-是指组件从创建到挂载到页面中运行起来-在到组件不用时卸载的过程" class="header-anchor">#</a> 组件的生命周期，是指组件从创建到挂载到页面中运行起来，在到组件不用时卸载的过程</h6> <h6 id="注意-只要类组件才有生命周期-因为类是要实例化的-所以才会有生命周期。而函数是不需要实例化的-https-projects-wojtekmaj-pl-react-lifecycle-methods-diagram"><a href="#注意-只要类组件才有生命周期-因为类是要实例化的-所以才会有生命周期。而函数是不需要实例化的-https-projects-wojtekmaj-pl-react-lifecycle-methods-diagram" class="header-anchor">#</a> 注意：只要类组件才有生命周期(因为类是要实例化的，所以才会有生命周期。而函数是不需要实例化的) https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</h6> <p><img src="/img/%E8%A7%A3%E8%BF%B0%E7%AF%87/fluxion/reatc-01.png" alt="An image"></p> <h4 id="初始化阶段调用的函数"><a href="#初始化阶段调用的函数" class="header-anchor">#</a> 初始化阶段调用的函数</h4> <table><thead><tr><th>勾子函数</th> <th style="text-align:center;">触发时机</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td>constructor</td> <td style="text-align:center;">创建组件时，最先执行，初始化的时候只执行一次</td> <td style="text-align:center;">react 在这个时候使用 bind 解决 this 指向的问题</td></tr> <tr><td>render</td> <td style="text-align:center;">每次 state 数据发送变动，就会调用 render 重新渲染组件</td> <td style="text-align:center;">注意：这个函数不能搞其他动作，更不能调用 setState()</td></tr> <tr><td>componentDidMount</td> <td style="text-align:center;">组件完成了 DOM 渲染后执行，也只执行一次</td> <td style="text-align:center;">这里可以发送网络请求，DOM 操作</td></tr></tbody></table> <h4 id="更新阶段调用的函数"><a href="#更新阶段调用的函数" class="header-anchor">#</a> 更新阶段调用的函数</h4> <table><thead><tr><th>勾子函数</th> <th style="text-align:center;">触发时机</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td>render</td> <td style="text-align:center;">每次 state 数据发送变动，就会调用 render 重新渲染组件</td> <td style="text-align:center;">注意：这个函数不能搞其他动作，更不能调用 setState()</td></tr> <tr><td>componentDidUpdate</td> <td style="text-align:center;">每次组件更新后就会调用</td> <td style="text-align:center;">可以操作 DOM, 获取更新后的 DOM 内容，注意: 不要直接调用 setState()</td></tr></tbody></table> <h4 id="删除阶段调用的函数"><a href="#删除阶段调用的函数" class="header-anchor">#</a> 删除阶段调用的函数</h4> <table><thead><tr><th>勾子函数</th> <th style="text-align:center;">触发时机</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td>componentWillUnmount</td> <td style="text-align:center;">每当组件从页面上消失时，就调用的函数</td> <td style="text-align:center;">这里可以处理停止轮询的操作</td></tr></tbody></table> <h2 id="ant-design"><a href="#ant-design" class="header-anchor">#</a> ant.design</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/前端/react/react-01.html" class="prev">
        组件章节
      </a></span> <span class="next"><a href="/前端/react/react-hooks.html">
        hooks 章节
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ce1393de.js" defer></script><script src="/assets/js/2.ee68cb5d.js" defer></script><script src="/assets/js/34.b38625c8.js" defer></script>
  </body>
</html>
